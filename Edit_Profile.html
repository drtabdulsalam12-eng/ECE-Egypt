<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุนุฏูู ุงูููู ุงูุดุฎุตู - ECE Egypt</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .edit-container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
        }
        .section-title {
            color: #17a2b8;
            border-bottom: 2px solid #17a2b8;
            padding-bottom: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .form-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="spinner"></div>
        <p>ุฌุงุฑู ุงููุนุงูุฌุฉ...</p>
    </div>

    <div class="edit-container">
        <h1>ุชุนุฏูู ุงูููู ุงูุดุฎุตู</h1>
        
        <form id="editProfileForm">
            <!-- ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ -->
            <div class="form-section">
                <h3 class="section-title">๐ค ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>ุงูุงุณู ุงููุงูู <span style="color: red;">*</span></label>
                        <input type="text" id="fullName" required>
                    </div>
                    <div class="form-group">
                        <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุบูุฑ ูุงุจู ููุชุนุฏูู)</label>
                        <input type="email" id="email" disabled>
                    </div>
                </div>

                <div class="form-group">
                    <label>ุตูุฑุชู ุงูุดุฎุตูุฉ</label>
                    <div class="upload-area-small">
                        <input type="file" id="profilePhoto" accept="image/*">
                        <p>ุงุถุบุท ูุชุบููุฑ ุตูุฑุชู</p>
                    </div>
                    <div id="photoPreview" class="photo-preview" style="display: none;"></div>
                </div>
            </div>

            <!-- ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ -->
            <div class="form-section">
                <h3 class="section-title">๐ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>ุงููุญุงูุธุฉ</label>
                        <input type="text" id="governorate">
                    </div>
                    <div class="form-group">
                        <label>ุงูุฅูุงูุฉ</label>
                        <input type="text" id="residence">
                    </div>
                </div>

                <div class="form-group">
                    <label>ุฑูู ุงูุจุฑูุฏ</label>
                    <input type="text" id="postalCode">
                </div>
            </div>

            <!-- ุงูุจูุงูุงุช ุงูุชุนููููุฉ -->
            <div class="form-section">
                <h3 class="section-title">๐ ุงูุจูุงูุงุช ุงูุชุนููููุฉ</h3>
                
                <div class="form-group">
                    <label>ุงููุณุชูู ุงูุฏุฑุงุณู ุงูุญุงูู</label>
                    <select id="educationLevel">
                        <option value="">ุงุฎุชุฑ ุงููุณุชูู</option>
                        <option value="ุซุงูููุฉ ุนุงูุฉ">ุซุงูููุฉ ุนุงูุฉ</option>
                        <option value="ุฏุจููู">ุฏุจููู</option>
                        <option value="ุจูุงููุฑููุณ">ุจูุงููุฑููุณ</option>
                        <option value="ูุงุฌุณุชูุฑ">ูุงุฌุณุชูุฑ</option>
                        <option value="ุฏูุชูุฑุงู">ุฏูุชูุฑุงู</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>ุงูุฌุงูุนุฉ / ุงููููุฉ</label>
                        <input type="text" id="college">
                    </div>
                    <div class="form-group">
                        <label>ุงููุฏุฑุณุฉ ุงูุซุงูููุฉ</label>
                        <input type="text" id="highSchool">
                    </div>
                </div>

                <div class="form-group">
                    <label>ุงูุชุฎุตุต</label>
                    <input type="text" id="fieldOfStudy">
                </div>
            </div>

            <!-- ุชูุงุตูู ุงููุธููุฉ ุงููุทููุจุฉ -->
            <div class="form-section">
                <h3 class="section-title">๐ผ ุชูุงุตูู ุงููุธููุฉ ุงููุทููุจุฉ</h3>
                
                <div class="form-group">
                    <label>ุงูุฑุงุชุจ ุงููุฑุบูุจ (ุจุงูุฌููู ุงููุตุฑู)</label>
                    <input type="text" id="desiredSalary" placeholder="ูุซุงู: ูู 4000 ุฅูู 6000">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>ูู ุงูุณุงุนุฉ</label>
                        <select id="workFromHour" onchange="calculateWorkHours()">
                            <option value="">ุงุฎุชุฑ ุงูุณุงุนุฉ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ุฅูู ุงูุณุงุนุฉ</label>
                        <select id="workToHour" onchange="calculateWorkHours()">
                            <option value="">ุงุฎุชุฑ ุงูุณุงุนุฉ</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>โฑ๏ธ ุนุฏุฏ ุณุงุนุงุช ุงูุนูู ุงูููููุฉ</label>
                    <input type="number" id="workHours" readonly placeholder="ุณูุชู ุญุณุงุจูุง ุชููุงุฆูุงู" style="background: #f0f8ff; font-weight: bold;">
                </div>
            </div>

            <!-- ุงูููุงุฑุงุช -->
            <div class="form-section">
                <h3 class="section-title">๐ฏ ุงูููุงุฑุงุช</h3>
                <div id="skillsList" style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"></div>
                <div class="form-row">
                    <div class="form-group" style="flex: 1;">
                        <input type="text" id="newSkill" placeholder="ุฃุฏุฎู ููุงุฑุฉ ุฌุฏูุฏุฉ">
                    </div>
                    <button type="button" class="btn btn-primary" onclick="addSkill()" style="margin-top: 20px;">ุฅุถุงูุฉ ููุงุฑุฉ</button>
                </div>
            </div>

            <!-- ุงููุบุงุช -->
            <div class="form-section">
                <h3 class="section-title">๐ ุงููุบุงุช</h3>
                <div id="languagesList" style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"></div>
                <div class="form-group">
                    <label>ุงููุบุฉ</label>
                    <input type="text" id="newLanguage" placeholder="ูุซุงู: ุงูุฅูุฌููุฒูุฉ">
                </div>
                <div class="form-group">
                    <label>ูุณุชูู ุงูุฅุฌุงุฏุฉ</label>
                    <select id="languageProficiency">
                        <option value="">ุงุฎุชุฑ ุงููุณุชูู</option>
                        <option value="ุถุนูู">ุถุนูู</option>
                        <option value="ูุชูุณุท">ูุชูุณุท</option>
                        <option value="ูุชูุฏู">ูุชูุฏู</option>
                        <option value="ุงุญุชุฑุงูู">ุงุญุชุฑุงูู</option>
                    </select>
                </div>
                <button type="button" class="btn btn-primary" onclick="addLanguage()">ุฅุถุงูุฉ ูุบุฉ</button>
            </div>

            <!-- ุงูุดูุงุฏุงุช -->
            <div class="form-section">
                <h3 class="section-title">๐ ุงูุดูุงุฏุงุช ูุงููููุงุช</h3>
                <div id="certificatesList" style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"></div>
                <div class="form-group">
                    <label>ุงุณู ุงูุดูุงุฏุฉ</label>
                    <input type="text" id="certName" placeholder="ูุซุงู: ุดูุงุฏุฉ Google Analytics">
                </div>
                <div class="form-group">
                    <label>ููู ุงูุดูุงุฏุฉ (PDF)</label>
                    <input type="file" id="certFile" accept=".pdf">
                </div>
                <button type="button" class="btn btn-primary" onclick="addCertificate()">ุฅุถุงูุฉ ุดูุงุฏุฉ</button>
            </div>

            <!-- ุงูุฃุฒุฑุงุฑ -->
            <div class="form-actions">
                <a href="Profile.html" class="btn btn-secondary">ุฅูุบุงุก</a>
                <button type="submit" class="btn btn-primary">ุญูุธ ุงูุชุนุฏููุงุช</button>
            </div>
        </form>
    </div>

    <div class="contact-float" id="contactButton">
        <div class="icon">๐ฌ</div>
    </div>

    <div class="contact-modal" id="contactModal">
        <div class="contact-modal-content">
            <button class="modal-close" id="closeModal">ร</button>
            <h2>ุชูุงุตู ูุนูุง</h2>
            <div class="contact-info">
                <div class="contact-item">
                    <div class="icon">๐ง</div>
                    <div class="text">
                        <strong>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</strong><br>
                        <a href="mailto:dr.t.abdulsalam12@gmail.com">dr.t.abdulsalam12@gmail.com</a>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="icon">โฐ</div>
                    <div class="text">
                        <strong>ุณุงุนุงุช ุงูุนูู:</strong><br>
                        ุงูุฃุญุฏ - ุงูุฎููุณ: 10 ุตุจุงุญุงู - 6 ูุณุงุกู
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSkills = [];
        let currentLanguages = [];
        let currentCertificates = [];

        // ุชููุฆุฉ ููุงุฆู ุงูุณุงุนุงุช ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        function initializeHourSelects() {
            const hourSelects = ['workFromHour', 'workToHour'];
            hourSelects.forEach(id => {
                const select = document.getElementById(id);
                for (let i = 0; i < 24; i++) {
                    const option = document.createElement('option');
                    option.value = String(i).padStart(2, '0');
                    option.textContent = String(i).padStart(2, '0') + ':00';
                    select.appendChild(option);
                }
            });
        }

        function calculateWorkHours() {
            const fromHour = document.getElementById('workFromHour').value;
            const toHour = document.getElementById('workToHour').value;
            const hoursInput = document.getElementById('workHours');

            if (fromHour && toHour) {
                const fromH = parseInt(fromHour);
                const toH = parseInt(toHour);
                let diff = toH - fromH;
                if (diff < 0) diff += 24;
                hoursInput.value = diff.toFixed(2);
            } else {
                hoursInput.value = '';
            }
        }

        // ุชููุฆุฉ ุงูุณุงุนุงุช ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        document.addEventListener('DOMContentLoaded', initializeHourSelects);

        function addSkill() {
            const skillInput = document.getElementById('newSkill');
            const skill = skillInput.value.trim();
            if (!skill) {
                alert('ูุฑุฌู ุฅุฏุฎุงู ุงูููุงุฑุฉ');
                return;
            }
            currentSkills.push(skill);
            skillInput.value = '';
            renderSkills();
        }

        function removeSkill(index) {
            currentSkills.splice(index, 1);
            renderSkills();
        }

        function renderSkills() {
            const list = document.getElementById('skillsList');
            list.innerHTML = currentSkills.map((skill, i) => `
                <div style="background: #e8f4f8; padding: 8px 15px; border-radius: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>${skill}</span>
                    <button type="button" onclick="removeSkill(${i})" style="background: none; border: none; color: red; cursor: pointer; font-weight: bold;">ร</button>
                </div>
            `).join('');
        }

        function addLanguage() {
            const langInput = document.getElementById('newLanguage');
            const profInput = document.getElementById('languageProficiency');
            const lang = langInput.value.trim();
            const prof = profInput.value;
            
            if (!lang || !prof) {
                alert('ูุฑุฌู ุฅุฏุฎุงู ุงููุบุฉ ููุณุชูู ุงูุฅุฌุงุฏุฉ');
                return;
            }
            currentLanguages.push({ name: lang, proficiency_level: prof });
            langInput.value = '';
            profInput.value = '';
            renderLanguages();
        }

        function removeLanguage(index) {
            currentLanguages.splice(index, 1);
            renderLanguages();
        }

        function renderLanguages() {
            const list = document.getElementById('languagesList');
            list.innerHTML = currentLanguages.map((lang, i) => `
                <div style="background: #fff3cd; padding: 8px 15px; border-radius: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>${lang.name} (${lang.proficiency_level})</span>
                    <button type="button" onclick="removeLanguage(${i})" style="background: none; border: none; color: red; cursor: pointer; font-weight: bold;">ร</button>
                </div>
            `).join('');
        }

        function addCertificate() {
            const nameInput = document.getElementById('certName');
            const fileInput = document.getElementById('certFile');
            const name = nameInput.value.trim();
            const file = fileInput.files[0];
            
            if (!name) {
                alert('ูุฑุฌู ุฅุฏุฎุงู ุงุณู ุงูุดูุงุฏุฉ');
                return;
            }
            
            currentCertificates.push({ name: name, file: file });
            nameInput.value = '';
            fileInput.value = '';
            renderCertificates();
        }

        function removeCertificate(index) {
            currentCertificates.splice(index, 1);
            renderCertificates();
        }

        function renderCertificates() {
            const list = document.getElementById('certificatesList');
            list.innerHTML = currentCertificates.map((cert, i) => `
                <div style="background: #d4edda; padding: 8px 15px; border-radius: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>๐ ${cert.name}</span>
                    <button type="button" onclick="removeCertificate(${i})" style="background: none; border: none; color: red; cursor: pointer; font-weight: bold;">ร</button>
                </div>
            `).join('');
        }
    </script>

    <script src="js/edit_profile.js"></script>
    <script src="js/contact.js"></script>
</body>
</html>
